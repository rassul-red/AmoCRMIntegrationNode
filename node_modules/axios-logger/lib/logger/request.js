"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _config = require("../common/config");
var _stringBuilder = _interopRequireDefault(require("../common/string-builder"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function requestLogger(request, config = {}) {
  const {
    baseURL,
    url,
    params,
    method,
    data,
    headers
  } = request;
  const buildConfig = (0, _config.assembleBuildConfig)(config);
  const stringBuilder = new _stringBuilder.default(buildConfig);
  const log = stringBuilder.makeLogTypeWithPrefix('Request').makeDateFormat(new Date()).makeMethod(method).makeUrl(url, baseURL).makeParams(params).makeHeader(headers).makeData(data).build();
  buildConfig.logger(log);
  return request;
}
var _default = requestLogger;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwicmVxdWlyZSIsIl9zdHJpbmdCdWlsZGVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmVxdWVzdExvZ2dlciIsInJlcXVlc3QiLCJjb25maWciLCJiYXNlVVJMIiwidXJsIiwicGFyYW1zIiwibWV0aG9kIiwiZGF0YSIsImhlYWRlcnMiLCJidWlsZENvbmZpZyIsImFzc2VtYmxlQnVpbGRDb25maWciLCJzdHJpbmdCdWlsZGVyIiwiU3RyaW5nQnVpbGRlciIsImxvZyIsIm1ha2VMb2dUeXBlV2l0aFByZWZpeCIsIm1ha2VEYXRlRm9ybWF0IiwiRGF0ZSIsIm1ha2VNZXRob2QiLCJtYWtlVXJsIiwibWFrZVBhcmFtcyIsIm1ha2VIZWFkZXIiLCJtYWtlRGF0YSIsImJ1aWxkIiwibG9nZ2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xvZ2dlci9yZXF1ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVybmFsQXhpb3NSZXF1ZXN0Q29uZmlnIH0gZnJvbSAnYXhpb3MnXG5pbXBvcnQgeyBhc3NlbWJsZUJ1aWxkQ29uZmlnIH0gZnJvbSAnLi4vY29tbW9uL2NvbmZpZydcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uL2NvbW1vbi9zdHJpbmctYnVpbGRlcidcbmltcG9ydCB7IFJlcXVlc3RMb2dDb25maWcgfSBmcm9tICcuLi9jb21tb24vdHlwZXMnXG5cbmZ1bmN0aW9uIHJlcXVlc3RMb2dnZXIocmVxdWVzdDogSW50ZXJuYWxBeGlvc1JlcXVlc3RDb25maWcsIGNvbmZpZzogUmVxdWVzdExvZ0NvbmZpZyA9IHt9KSB7XG5cbiAgICBjb25zdCB7YmFzZVVSTCwgdXJsLCBwYXJhbXMsIG1ldGhvZCwgZGF0YSwgaGVhZGVyc30gPSByZXF1ZXN0O1xuICAgIGNvbnN0IGJ1aWxkQ29uZmlnID0gYXNzZW1ibGVCdWlsZENvbmZpZyhjb25maWcpO1xuXG4gICAgY29uc3Qgc3RyaW5nQnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKGJ1aWxkQ29uZmlnKTtcbiAgICBjb25zdCBsb2cgPSBzdHJpbmdCdWlsZGVyXG4gICAgICAgIC5tYWtlTG9nVHlwZVdpdGhQcmVmaXgoJ1JlcXVlc3QnKVxuICAgICAgICAubWFrZURhdGVGb3JtYXQobmV3IERhdGUoKSlcbiAgICAgICAgLm1ha2VNZXRob2QobWV0aG9kKVxuICAgICAgICAubWFrZVVybCh1cmwsIGJhc2VVUkwpXG4gICAgICAgIC5tYWtlUGFyYW1zKHBhcmFtcylcbiAgICAgICAgLm1ha2VIZWFkZXIoaGVhZGVycylcbiAgICAgICAgLm1ha2VEYXRhKGRhdGEpXG4gICAgICAgIC5idWlsZCgpO1xuXG4gICAgYnVpbGRDb25maWcubG9nZ2VyKGxvZyk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVxdWVzdExvZ2dlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQW9ELFNBQUFFLHVCQUFBQyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3BELFNBQVNHLGFBQWFBLENBQUNDLE9BQW1DLEVBQUVDLE1BQXdCLEdBQUcsQ0FBQyxDQUFDLEVBQUU7RUFFdkYsTUFBTTtJQUFDQyxPQUFPO0lBQUVDLEdBQUc7SUFBRUMsTUFBTTtJQUFFQyxNQUFNO0lBQUVDLElBQUk7SUFBRUM7RUFBTyxDQUFDLEdBQUdQLE9BQU87RUFDN0QsTUFBTVEsV0FBVyxHQUFHLElBQUFDLDJCQUFtQixFQUFDUixNQUFNLENBQUM7RUFFL0MsTUFBTVMsYUFBYSxHQUFHLElBQUlDLHNCQUFhLENBQUNILFdBQVcsQ0FBQztFQUNwRCxNQUFNSSxHQUFHLEdBQUdGLGFBQWEsQ0FDcEJHLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUNoQ0MsY0FBYyxDQUFDLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDMUJDLFVBQVUsQ0FBQ1gsTUFBTSxDQUFDLENBQ2xCWSxPQUFPLENBQUNkLEdBQUcsRUFBRUQsT0FBTyxDQUFDLENBQ3JCZ0IsVUFBVSxDQUFDZCxNQUFNLENBQUMsQ0FDbEJlLFVBQVUsQ0FBQ1osT0FBTyxDQUFDLENBQ25CYSxRQUFRLENBQUNkLElBQUksQ0FBQyxDQUNkZSxLQUFLLENBQUMsQ0FBQztFQUVaYixXQUFXLENBQUNjLE1BQU0sQ0FBQ1YsR0FBRyxDQUFDO0VBRXZCLE9BQU9aLE9BQU87QUFDbEI7QUFBQyxJQUFBdUIsUUFBQSxHQUVjeEIsYUFBYTtBQUFBeUIsT0FBQSxDQUFBMUIsT0FBQSxHQUFBeUIsUUFBQSJ9