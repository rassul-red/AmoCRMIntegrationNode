"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _config = require("../common/config");
var _stringBuilder = _interopRequireDefault(require("../common/string-builder"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function responseLogger(response, config = {}) {
  const {
    config: {
      baseURL,
      url,
      method,
      params
    },
    status,
    statusText,
    data,
    headers
  } = response;
  const buildConfig = (0, _config.assembleBuildConfig)(config);
  const stringBuilder = new _stringBuilder.default(buildConfig);
  const log = stringBuilder.makeLogTypeWithPrefix('Response').makeDateFormat(new Date()).makeMethod(method).makeUrl(url, baseURL).makeParams(params).makeStatus(status, statusText).makeHeader(headers).makeData(data).build();
  buildConfig.logger(log);
  return response;
}
var _default = responseLogger;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwicmVxdWlyZSIsIl9zdHJpbmdCdWlsZGVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmVzcG9uc2VMb2dnZXIiLCJyZXNwb25zZSIsImNvbmZpZyIsImJhc2VVUkwiLCJ1cmwiLCJtZXRob2QiLCJwYXJhbXMiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZGF0YSIsImhlYWRlcnMiLCJidWlsZENvbmZpZyIsImFzc2VtYmxlQnVpbGRDb25maWciLCJzdHJpbmdCdWlsZGVyIiwiU3RyaW5nQnVpbGRlciIsImxvZyIsIm1ha2VMb2dUeXBlV2l0aFByZWZpeCIsIm1ha2VEYXRlRm9ybWF0IiwiRGF0ZSIsIm1ha2VNZXRob2QiLCJtYWtlVXJsIiwibWFrZVBhcmFtcyIsIm1ha2VTdGF0dXMiLCJtYWtlSGVhZGVyIiwibWFrZURhdGEiLCJidWlsZCIsImxvZ2dlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dnZXIvcmVzcG9uc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IFJlc3BvbnNlTG9nQ29uZmlnIH0gZnJvbSAnLi4vY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IGFzc2VtYmxlQnVpbGRDb25maWcgfSBmcm9tICcuLi9jb21tb24vY29uZmlnJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uL2NvbW1vbi9zdHJpbmctYnVpbGRlcic7XG5cbmZ1bmN0aW9uIHJlc3BvbnNlTG9nZ2VyKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlLCBjb25maWc6IFJlc3BvbnNlTG9nQ29uZmlnID0ge30pIHtcbiAgICBjb25zdCB7Y29uZmlnOiB7YmFzZVVSTCwgdXJsLCBtZXRob2QsIHBhcmFtc30sIHN0YXR1cywgc3RhdHVzVGV4dCwgZGF0YSwgaGVhZGVyc30gPSByZXNwb25zZTtcblxuICAgIGNvbnN0IGJ1aWxkQ29uZmlnID0gYXNzZW1ibGVCdWlsZENvbmZpZyhjb25maWcpO1xuXG4gICAgY29uc3Qgc3RyaW5nQnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKGJ1aWxkQ29uZmlnKTtcbiAgICBjb25zdCBsb2cgPSBzdHJpbmdCdWlsZGVyXG4gICAgICAgIC5tYWtlTG9nVHlwZVdpdGhQcmVmaXgoJ1Jlc3BvbnNlJylcbiAgICAgICAgLm1ha2VEYXRlRm9ybWF0KG5ldyBEYXRlKCkpXG4gICAgICAgIC5tYWtlTWV0aG9kKG1ldGhvZClcbiAgICAgICAgLm1ha2VVcmwodXJsLCBiYXNlVVJMKVxuICAgICAgICAubWFrZVBhcmFtcyhwYXJhbXMpXG4gICAgICAgIC5tYWtlU3RhdHVzKHN0YXR1cywgc3RhdHVzVGV4dClcbiAgICAgICAgLm1ha2VIZWFkZXIoaGVhZGVycylcbiAgICAgICAgLm1ha2VEYXRhKGRhdGEpXG4gICAgICAgIC5idWlsZCgpO1xuXG4gICAgYnVpbGRDb25maWcubG9nZ2VyKGxvZyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc3BvbnNlTG9nZ2VyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFBcUQsU0FBQUUsdUJBQUFDLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFckQsU0FBU0csY0FBY0EsQ0FBQ0MsUUFBdUIsRUFBRUMsTUFBeUIsR0FBRyxDQUFDLENBQUMsRUFBRTtFQUM3RSxNQUFNO0lBQUNBLE1BQU0sRUFBRTtNQUFDQyxPQUFPO01BQUVDLEdBQUc7TUFBRUMsTUFBTTtNQUFFQztJQUFNLENBQUM7SUFBRUMsTUFBTTtJQUFFQyxVQUFVO0lBQUVDLElBQUk7SUFBRUM7RUFBTyxDQUFDLEdBQUdULFFBQVE7RUFFNUYsTUFBTVUsV0FBVyxHQUFHLElBQUFDLDJCQUFtQixFQUFDVixNQUFNLENBQUM7RUFFL0MsTUFBTVcsYUFBYSxHQUFHLElBQUlDLHNCQUFhLENBQUNILFdBQVcsQ0FBQztFQUNwRCxNQUFNSSxHQUFHLEdBQUdGLGFBQWEsQ0FDcEJHLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxDQUNqQ0MsY0FBYyxDQUFDLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDMUJDLFVBQVUsQ0FBQ2QsTUFBTSxDQUFDLENBQ2xCZSxPQUFPLENBQUNoQixHQUFHLEVBQUVELE9BQU8sQ0FBQyxDQUNyQmtCLFVBQVUsQ0FBQ2YsTUFBTSxDQUFDLENBQ2xCZ0IsVUFBVSxDQUFDZixNQUFNLEVBQUVDLFVBQVUsQ0FBQyxDQUM5QmUsVUFBVSxDQUFDYixPQUFPLENBQUMsQ0FDbkJjLFFBQVEsQ0FBQ2YsSUFBSSxDQUFDLENBQ2RnQixLQUFLLENBQUMsQ0FBQztFQUVaZCxXQUFXLENBQUNlLE1BQU0sQ0FBQ1gsR0FBRyxDQUFDO0VBRXZCLE9BQU9kLFFBQVE7QUFDbkI7QUFBQyxJQUFBMEIsUUFBQSxHQUVjM0IsY0FBYztBQUFBNEIsT0FBQSxDQUFBN0IsT0FBQSxHQUFBNEIsUUFBQSJ9